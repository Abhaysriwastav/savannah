generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Event {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  title       String
  description String
  category    String   @default("General")
  date        DateTime
  location    String
  imageUrl    String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model GalleryImage {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  url       String
  title     String?
  createdAt DateTime @default(now())
}

model AdminUser {
  id           String   @id @default(auto()) @map("_id") @db.ObjectId
  username     String   @unique
  passwordHash String
  role         String   @default("superadmin") // 'superadmin' vs 'editor'
  permissions  String[] @default([]) // Array of allowed access e.g. ['gallery', 'events', 'projects']
  createdAt    DateTime @default(now())
}

model DonationSettings {
  id            String   @id @default(auto()) @map("_id") @db.ObjectId
  bankName      String   @default("Bank Name")
  accountName   String   @default("Savannah United Berlin e.V.")
  iban          String   @default("DE00 0000 0000 0000 0000 00")
  bic           String   @default("XXXXX")
  whatsappPhone String   @default("+49000000000") // Format with country code for wa.me
  imageUrl      String?  
  headerImageUrl String?
  totalCount    Int      @default(0)
  updatedAt     DateTime @updatedAt
}

model Project {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  title       String
  description String
  category    String   @default("General")
  bullet1     String?
  bullet2     String?
  bullet3     String?
  imageUrl    String?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}
 
model AboutSettings {
  id            String   @id @default(auto()) @map("_id") @db.ObjectId
  missionEn     String   @default("Our mission is to empower youth.")
  missionDe     String   @default("Unsere Mission ist es, die Jugend zu stärken.")
  visionEn      String   @default("Our vision is a better future for all.")
  visionDe      String   @default("Unsere Vision ist eine bessere Zukunft für alle.")
  storyEn       String   @default("Savannah United began with a simple idea...")
  storyDe       String   @default("Savannah United begann mit einer einfachen Idee...")
  storyImageUrl String?
  headerImageUrl String?
  updatedAt     DateTime @updatedAt
}

model ContactSettings {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  email       String   @default("info@savannahunited.de")
  phone       String   @default("+49 000 000000")
  address     String   @default("Berlin, Germany")
  locationUrl String? // Google Maps embed URL
  updatedAt   DateTime @updatedAt
}

model ImpactMetric {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  labelEn   String
  labelDe   String
  value     String // e.g., "500+"
  icon      String // e.g., "users", "book", "heart"
  order     Int      @default(0)
  updatedAt DateTime @updatedAt
}

model PageHeader {
  id             String   @id @default(auto()) @map("_id") @db.ObjectId
  page           String   @unique // 'events', 'projects', 'gallery', 'contact'
  imageUrl       String
  updatedAt      DateTime @updatedAt
}

model ContactMessage {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  name      String
  email     String
  subject   String
  message   String
  status    String   @default("new") // 'new', 'read', 'replied'
  createdAt DateTime @default(now())
}

model Volunteer {
  id          String   @id @default(auto()) @map("_id") @db.ObjectId
  firstName   String
  lastName    String
  email       String
  phone       String?
  city        String?
  interests   String[] @default([]) // E.g., 'Event Planning', 'Social Media', 'Mentoring'
  experience  String?
  message     String?
  status      String   @default("new") // 'new', 'contacted', 'approved', 'rejected'
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt
}

model Testimonial {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  author    String
  role      String   // E.g., 'Volunteer', 'Student', 'Partner'
  quote     String
  imageUrl  String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model Partner {
  id        String   @id @default(auto()) @map("_id") @db.ObjectId
  name      String
  logoUrl   String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
